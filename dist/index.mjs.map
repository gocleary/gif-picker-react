{"version":3,"sources":["../src/index.tsx","../src/components/ErrorBoundary.tsx","../src/GifPickerReact.tsx","../src/components/body/Body.tsx","../src/context/PickerContext.ts","../src/context/TenorContext.ts","#style-inject:#style-inject","../src/components/body/Body.css","../src/components/body/CategoryList.tsx","../src/components/placeholders/CategoryPlaceholder.tsx","../src/context/SettingsContext.ts","../src/components/placeholders/CategoryPlaceholder.css","../src/components/placeholders/Placeholder.tsx","../src/components/placeholders/Placeholder.css","../src/components/body/CategoryList.css","../src/components/body/FeaturedCategory.tsx","../src/components/body/Category.tsx","../src/components/body/Category.css","../src/components/body/TrendingCategory.tsx","../src/components/body/TrendingCategory.css","../src/components/body/SearchResult.tsx","../src/components/body/GifList.tsx","../src/components/body/GifList.css","../src/components/body/GifListPlaceholder.tsx","../src/components/placeholders/ResultPlaceholder.tsx","../src/components/placeholders/ResultPlaceholder.css","../src/components/body/ResultImage.tsx","../src/components/body/ResultImage.css","../src/components/body/TrendingResult.tsx","../src/components/header/Header.tsx","../src/components/header/Header.css","../src/components/header/Search.tsx","../src/components/header/ClearButton.tsx","../src/components/Button.tsx","../src/components/header/ClearButton.css","../src/components/header/Search.css","../src/components/header/Title.tsx","../src/components/header/Title.css","../src/components/PickerMain.tsx","../src/types/exposedTypes.ts","../src/GifPickerReact.css","../src/hooks/usePickerContext.ts","../src/hooks/useSettings.ts","../src/managers/TenorManager.ts"],"names":["React","ErrorBoundary","props","error","errorInfo","useMemo","useContext","useEffect","useRef","useState","PickerContext","PickerContext_default","TenorContext","TenorContext_default","styleInject","css","insertAt","head","style","SettingsContext","SettingsContext_default","Placeholder","Placeholder_default","CategoryPlaceholder","settings","CategoryPlaceholder_default","Category","image","text","onClick","Category_default","FeaturedCategory","name","pickerContext","setPickerContext","contextCopy","FeaturedCategory_default","TrendingCategory","TrendingCategory_default","CategoryList","categories","trending","columnsCount","_a","getCleanedCategories","SPECIAL_CATEGORIES_COUNT","excessCategoriesCount","cat","i","_","CategoryList_default","useCallback","ResultPlaceholder","height","showDelay","show","setShow","showElement","timeout","ResultPlaceholder_default","PLACEHOLDER_HEIGHTS","GifListPlaceholder","j","GifListPlaceholder_default","ResultImage","searchTerm","tenor","func","ResultImage_default","GifList","isLoading","images","onLoadMore","hasMore","columns","generateColumns","isEmpty","observer","lastGifElementRef","node","entries","col","img","index","result","columnsHeight","aspectRatio","shortestColumnIndex","GifList_default","SearchResult","searchResult","setSearchResult","setLoading","nextPos","setNextPos","fetchGifs","pos","prevResults","debounce","handleLoadMore","SearchResult_default","TrendingResult","trendingResult","fetchTrendingGifs","TrendingResult_default","MAX_COLUMN_WIDTH","Body","width","setCategories","setTrending","setColumnsCount","ref","categoryList","trendingList","Body_default","Button","Button_default","ClearButton","ClearButton_default","Search","onChange","event","onClear","Search_default","Title","children","Title_default","Header","Header_default","ContentFilter","Theme","PickerMain","PickerMain_default","usePickerContext","initialSearchTerm","DEFAULT_SETTINGS","usePickerContext_default","useSettings","praseDimension","getTheme","dimension","theme","isSystemDarkTheme","useSettings_default","MEDIA_FILTER","BASE_URL","TenorManager","apiKey","clientKey","country","locale","contentFilter","endpoint","params","urlParams","url","res","preview","gif","data","tag","term","limit","TenorManager_default","GifPickerReact","tenorManager","GifPickerReact_default","GifPicker","src_default"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport GifPickerReact, { GifPickerReactProps } from './GifPickerReact';\n\nexport { ContentFilter, TenorImage, Theme } from './types/exposedTypes';\n\nexport interface GifPickerProps extends GifPickerReactProps {}\n\nfunction GifPicker(props: GifPickerProps): JSX.Element {\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<GifPickerReact {...props} />\n\t\t</ErrorBoundary>\n\t);\n}\n\nexport default GifPicker;\n","import * as React from 'react';\n\nexport interface ErrorBoundaryProps {\n\tchildren: React.ReactNode;\n}\n\nexport interface ErrorBoundaryState {\n\thasError: boolean;\n}\n\nexport default class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n\tconstructor(props: { children: React.ReactNode }) {\n\t\tsuper(props);\n\t\tthis.state = { hasError: false };\n\t}\n\n\tstatic getDerivedStateFromError(): ErrorBoundaryState {\n\t\treturn { hasError: true };\n\t}\n\n\tcomponentDidCatch(error: Error, errorInfo: any): void {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error('GIF Picker React failed to render:', error, errorInfo);\n\t}\n\n\trender(): React.ReactNode {\n\t\tif (this.state.hasError) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n","import React, { useMemo } from 'react';\nimport Body from './components/body/Body';\nimport Header from './components/header/Header';\nimport PickerMain from './components/PickerMain';\nimport PickerContext from './context/PickerContext';\nimport SettingsContext from './context/SettingsContext';\nimport TenorContext from './context/TenorContext';\nimport './GifPickerReact.css';\nimport usePickerContext from './hooks/usePickerContext';\nimport useSettings from './hooks/useSettings';\nimport TenorManager from './managers/TenorManager';\nimport { ContentFilter, TenorImage, Theme } from './types/exposedTypes';\n\nexport interface GifPickerReactProps {\n\ttenorApiKey: string;\n\tonGifClick?: (gif: TenorImage) => void;\n\tautoFocusSearch?: boolean;\n\tcontentFilter?: ContentFilter;\n\tinitialSearchTerm?: string;\n\tclientKey?: string;\n\tcountry?: string;\n\tlocale?: string;\n\twidth?: number | string;\n\theight?: number | string;\n\tcategoryHeight?: number | string;\n\ttheme?: Theme;\n}\n\nfunction GifPickerReact(props: GifPickerReactProps): JSX.Element {\n\tconst settings = useSettings(props);\n\tconst pickerContext = usePickerContext(settings.initialSearchTerm);\n\tconst tenorManager: TenorManager = useMemo(\n\t\t() =>\n\t\t\tnew TenorManager(\n\t\t\t\tsettings.tenorApiKey,\n\t\t\t\tsettings.clientKey,\n\t\t\t\tsettings.country,\n\t\t\t\tsettings.locale,\n\t\t\t\tsettings.contentFilter,\n\t\t\t),\n\t\t[],\n\t);\n\n\treturn (\n\t\t<SettingsContext.Provider value={settings}>\n\t\t\t<PickerContext.Provider value={pickerContext}>\n\t\t\t\t<TenorContext.Provider value={tenorManager}>\n\t\t\t\t\t<PickerMain>\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Body width={props.width} />\n\t\t\t\t\t</PickerMain>\n\t\t\t\t</TenorContext.Provider>\n\t\t\t</PickerContext.Provider>\n\t\t</SettingsContext.Provider>\n\t);\n}\n\nexport default GifPickerReact;\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport TenorContext from '../../context/TenorContext';\nimport { TenorCategory } from '../../managers/TenorManager';\nimport { TenorImage } from '../../types/exposedTypes';\nimport './Body.css';\nimport CategoryList from './CategoryList';\nimport SearchResult from './SearchResult';\nimport TrendingResult from './TrendingResult';\n\nconst MAX_COLUMN_WIDTH = 170;\n\nexport interface BodyProps {\n\t/**\n\t * Width prop is here is for sole purpose of updating the\n\t * columns calculations when width prop change\n\t */\n\twidth?: number | string;\n}\n\nfunction Body({ width }: BodyProps): JSX.Element {\n\tconst [categories, setCategories] = useState<TenorCategory[] | undefined>(undefined);\n\tconst [trending, setTrending] = useState<TenorImage | undefined>(undefined);\n\tconst [pickerContext] = useContext(PickerContext);\n\tconst [columnsCount, setColumnsCount] = useState(1);\n\tconst tenor = useContext(TenorContext);\n\tconst ref = useRef<HTMLDivElement>(null);\n\n\t/**\n\t * Load categories and first trending image for home page\n\t */\n\tuseEffect(() => {\n\t\t(async (): Promise<any> => {\n\t\t\tconst categoryList = await tenor.categories();\n\t\t\tsetCategories(categoryList);\n\t\t\tconst trendingList = await tenor.trending(1);\n\t\t\tsetTrending(trendingList.images[0]);\n\t\t})();\n\t}, []);\n\n\t/**\n\t * Calculate amount of columns to display\n\t */\n\tuseEffect(() => {\n\t\tconst width = ref.current ? ref.current.offsetWidth : 0;\n\t\tlet columns = Math.floor(width / MAX_COLUMN_WIDTH);\n\t\tif (columns < 1) columns = 1;\n\t\tsetColumnsCount(columns);\n\t}, [ref.current, width]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"gpr-body\"\n\t\t\tref={ref}\n\t\t>\n\t\t\t{((): JSX.Element => {\n\t\t\t\tif (pickerContext.showTrending) {\n\t\t\t\t\treturn <TrendingResult columnsCount={columnsCount} />;\n\t\t\t\t} else if (pickerContext.searchTerm) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SearchResult\n\t\t\t\t\t\t\tcolumnsCount={columnsCount}\n\t\t\t\t\t\t\tsearchTerm={pickerContext.searchTerm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CategoryList\n\t\t\t\t\t\t\tcolumnsCount={columnsCount}\n\t\t\t\t\t\t\tcategories={categories}\n\t\t\t\t\t\t\ttrending={trending}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})()}\n\t\t</div>\n\t);\n}\n\nexport default Body;\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { PickerContextType } from '../hooks/usePickerContext';\n\nconst PickerContext = React.createContext<\n\t[PickerContextType, Dispatch<SetStateAction<PickerContextType>>]\n>(null!);\n\nexport default PickerContext;\n","import * as React from 'react';\nimport TenorManager from '../managers/TenorManager';\n\nconst TenorContext = React.createContext<TenorManager>(null!);\n\nexport default TenorContext;\n","\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-body{display:flex;flex:1;min-height:0}\\n\")","import React from 'react';\nimport { TenorImage } from '../../../dist';\nimport { TenorCategory } from '../../managers/TenorManager';\nimport CategoryPlaceholder from '../placeholders/CategoryPlaceholder';\nimport './CategoryList.css';\nimport FeaturedCategory from './FeaturedCategory';\nimport TrendingCategory from './TrendingCategory';\n\nexport interface CategoryListProps {\n\tcategories?: TenorCategory[];\n\ttrending?: TenorImage;\n\tcolumnsCount: number;\n}\n\nfunction CategoryList({ categories, trending, columnsCount }: CategoryListProps): JSX.Element {\n\t/**\n\t * Make sure that last categories row is always full by removing\n\t * excess categories so the total count is devisable by column count\n\t */\n\tfunction getCleanedCategories() {\n\t\tif (!categories) return undefined;\n\n\t\tconst SPECIAL_CATEGORIES_COUNT = 1; // Trending\n\t\tconst totalCategoriesCount = categories.length + SPECIAL_CATEGORIES_COUNT;\n\t\tconst excessCategoriesCount = totalCategoriesCount % columnsCount;\n\n\t\tif (excessCategoriesCount == 0) return categories;\n\t\treturn categories?.slice(0, -excessCategoriesCount);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"gpr-category-list\"\n\t\t\tstyle={{ gridTemplateColumns: `repeat(${columnsCount}, 1fr)` }}\n\t\t>\n\t\t\t{categories && trending ? (\n\t\t\t\t<>\n\t\t\t\t\t<TrendingCategory image={trending.url} />\n\t\t\t\t\t{getCleanedCategories()?.map((cat, i) => (\n\t\t\t\t\t\t<FeaturedCategory\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\timage={cat.image}\n\t\t\t\t\t\t\tname={cat.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{[...Array(10 * columnsCount)].map((_, i) => (\n\t\t\t\t\t\t<CategoryPlaceholder key={i} />\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default CategoryList;\n","import React, { useContext } from 'react';\nimport SettingsContext from '../../context/SettingsContext';\nimport './CategoryPlaceholder.css';\nimport Placeholder from './Placeholder';\n\nfunction CategoryPlaceholder() {\n\tconst settings = useContext(SettingsContext);\n\n\treturn (\n\t\t<Placeholder\n\t\t\tclassName=\"gpr-category-placeholder\"\n\t\t\theight={settings.categoryHeight}\n\t\t\twidth=\"100%\"\n\t\t/>\n\t);\n}\n\nexport default CategoryPlaceholder;\n","import * as React from 'react';\nimport { GifPickerSettings } from '../hooks/useSettings';\n\nconst SettingsContext = React.createContext<GifPickerSettings>(null!);\n\nexport default SettingsContext;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category-placeholder{border-radius:var(--gpr-category-border-radius);position:relative}\\n\")","import React from 'react';\nimport './Placeholder.css';\n\nexport interface PlaceholderProps\n\textends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n\twidth?: number | string;\n\theight?: number | string;\n\tclassName?: string;\n}\n\nfunction Placeholder(props: PlaceholderProps) {\n\treturn (\n\t\t<div\n\t\t\t{...props}\n\t\t\tclassName={`gpr-placeholder ${props.className || ''}`}\n\t\t\tstyle={{ width: props.width, height: props.height, ...props.style }}\n\t\t></div>\n\t);\n}\n\nexport default Placeholder;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-placeholder{background-color:var(--gpr-placeholder-color);transition:opacity .2s ease-in-out}\\n\")","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category-list{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;overflow-y:scroll;padding:var(--gpr-body-padding)}\\n\")","import React, { useContext } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport Category from './Category';\n\nexport interface FeaturedCategory {\n\timage: string;\n\tname: string;\n}\n\nfunction FeaturedCategory({ image, name }: FeaturedCategory): JSX.Element {\n\tconst [pickerContext, setPickerContext] = useContext(PickerContext);\n\n\tfunction onClick(): void {\n\t\tconst contextCopy = Object.assign({}, pickerContext);\n\t\tcontextCopy.searchTerm = name;\n\t\tsetPickerContext(contextCopy);\n\t}\n\n\treturn (\n\t\t<Category\n\t\t\timage={image}\n\t\t\ttext={name}\n\t\t\tonClick={onClick}\n\t\t/>\n\t);\n}\n\nexport default FeaturedCategory;\n","import React, { useContext } from 'react';\nimport SettingsContext from '../../context/SettingsContext';\nimport './Category.css';\n\nexport interface CategoryProps {\n\timage: string;\n\ttext: React.ReactNode | string;\n\tonClick?: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nfunction Category({ image, text, onClick }: CategoryProps): JSX.Element {\n\tconst settings = useContext(SettingsContext);\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName=\"gpr-btn gpr-category\"\n\t\t\tstyle={{ height: settings.categoryHeight }}\n\t\t\tdata-testid=\"gpr-category\"\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={image}\n\t\t\t\tloading=\"lazy\"\n\t\t\t/>\n\t\t\t<div className=\"gpr-category-overlay\">\n\t\t\t\t<div className=\"gpr-category-name\">{text}</div>\n\t\t\t</div>\n\t\t</button>\n\t);\n}\n\nexport default Category;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-category{border-radius:var(--gpr-category-border-radius);cursor:pointer;position:relative;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-category img{background-color:#d3d3d3;border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-category-overlay{align-items:center;background-color:rgba(0,0,0,var(--gpr-category-background-opacity));border-radius:var(--gpr-category-border-radius);display:flex;height:100%;justify-content:center;left:0;overflow:hidden;position:absolute;top:0;transition:background-color .15s ease-in-out;width:100%}.GifPickerReact .gpr-category-overlay .gpr-category-name{color:var(--gpr-category-font-color);font-size:var(--gpr-category-font-size);font-weight:var(--gpr-category-font-weight);text-shadow:0 1px 1px rgba(0,0,0,var(--gpr-category-shadow-opacity))}.GifPickerReact .gpr-category:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}.GifPickerReact .gpr-category:hover .gpr-category-overlay{background-color:rgba(0,0,0,var(--gpr-category-shadow-opacity-hover))}\\n\")","import React, { useContext } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport Category from './Category';\nimport './TrendingCategory.css';\n\nexport interface FeaturedCategory {\n\timage: string;\n}\n\nfunction TrendingCategory({ image }: FeaturedCategory): JSX.Element {\n\tconst [pickerContext, setPickerContext] = useContext(PickerContext);\n\n\tfunction onClick(): void {\n\t\tconst contextCopy = Object.assign({}, pickerContext);\n\t\tcontextCopy.showTrending = true;\n\t\tsetPickerContext(contextCopy);\n\t}\n\n\treturn (\n\t\t<Category\n\t\t\timage={image}\n\t\t\tonClick={onClick}\n\t\t\ttext={\n\t\t\t\t<div className=\"gpr-text-trending-category\">\n\t\t\t\t\t<div className=\"gpr-icn-trending\" />\n\t\t\t\t\t<span>Trending GIFs</span>\n\t\t\t\t</div>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default TrendingCategory;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-icn-trending{background-color:transparent;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath fill='%23fff' d='M6.3 37 4 34.7l15-15 8 8.05L41.9 11l2.1 2.05-17 19.2-8-7.95Z'/%3E%3C/svg%3E\\\");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-category .gpr-text-trending-category{align-items:center;display:flex;gap:4px}\\n\")","import React, { useContext, useEffect, useState, useCallback } from 'react';\nimport TenorContext from '../../context/TenorContext';\nimport { TenorImage } from '../../types/exposedTypes';\nimport GifList from './GifList';\n\nexport interface SearchResultProps {\n  searchTerm: string;\n  columnsCount: number;\n}\n\nfunction SearchResult({ searchTerm, columnsCount }: SearchResultProps) {\n\tconst [ searchResult, setSearchResult ] = useState<TenorImage[]>([]);\n\tconst [ isLoading, setLoading ] = useState(true);\n\tconst [ nextPos, setNextPos ] = useState<string | null>(null);\n\tconst tenor = useContext(TenorContext);\n\n\tconst fetchGifs = useCallback(async (pos?: string) => {\n\t\tconst result = await tenor.search(searchTerm, 50, pos);\n\t\tsetSearchResult(prevResults => [ ...prevResults, ...result.images ]);\n\t\tsetNextPos(result.next);\n\t\tsetLoading(false);\n\t}, [ searchTerm, tenor ]);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tsetSearchResult([]);\n\t\tsetNextPos(null);\n\t\tconst debounce = setTimeout(() => fetchGifs(), 800);\n\t\treturn (): void => clearTimeout(debounce);\n\t}, [ searchTerm, fetchGifs ]);\n\n\tconst handleLoadMore = useCallback(() => {\n\t\tif (nextPos) {\n\t\t\tfetchGifs(nextPos);\n\t\t}\n\t}, [ nextPos, fetchGifs ]);\n\n\treturn (\n\t\t<GifList\n\t\t\tisLoading={isLoading}\n\t\t\tcolumnsCount={columnsCount}\n\t\t\timages={searchResult}\n\t\t\tsearchTerm={searchTerm}\n\t\t\tonLoadMore={handleLoadMore}\n\t\t\thasMore={!!nextPos}\n\t\t/>\n\t);\n}\n\nexport default SearchResult;\n","import React, { useMemo, useRef, useCallback } from 'react';\nimport { TenorImage } from '../../types/exposedTypes';\nimport './GifList.css';\nimport GifListPlaceholder from './GifListPlaceholder';\nimport ResultImage from './ResultImage';\n\nexport interface GifListProps {\n  isLoading: boolean;\n  images: TenorImage[];\n  searchTerm?: string;\n  columnsCount: number;\n  onLoadMore: () => void;\n  hasMore: boolean;\n}\n\nfunction GifList({ isLoading, images, searchTerm, columnsCount, onLoadMore, hasMore }: GifListProps): JSX.Element {\n\tconst columns = useMemo(() => generateColumns(images, columnsCount), [ images, columnsCount ]);\n\tconst isEmpty = images.length <= 0;\n\tconst observer = useRef<IntersectionObserver | null>(null);\n\tconst lastGifElementRef = useCallback((node: HTMLDivElement | null) => {\n\t\tif (isLoading) return;\n\t\tif (observer.current) observer.current.disconnect();\n\t\tobserver.current = new IntersectionObserver(entries => {\n\t\t\tif (entries[0].isIntersecting && hasMore) {\n\t\t\t\tonLoadMore();\n\t\t\t}\n\t\t});\n\t\tif (node) observer.current.observe(node);\n\t}, [ isLoading, hasMore, onLoadMore ]);\n\n\tif (isEmpty) {\n\t\tif (isLoading) {\n\t\t\treturn (<GifListPlaceholder columnsCount={columnsCount} />);\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<div className='gpr-gif-list-no-result'>\n\t\t\t\t\t<span>No GIFs found!</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"gpr-gif-list\">\n\t\t\t{columns.map((col, i) => (\n\t\t\t\t<div className='gpr-gif-list-column' key={i}>\n\t\t\t\t\t{col.map((img, index) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={img.id}\n\t\t\t\t\t\t\tref={index === col.length - 1 && i === columns.length - 1 ? lastGifElementRef : null}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ResultImage image={img} searchTerm={searchTerm} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\n/**\n * Splits TenorResult into grid of TenorImage with set amount of columns\n * Columns should have more or less similar height but don't necessarily need to\n * have fixed amount of elements, GIFs don't have uniform heights\n *\n * @returns array of columns (which are the arrays of TenorImage)\n */\nfunction generateColumns(result?: TenorImage[], columnsCount = 2 ): TenorImage[][] {\n\tif(!result) return [];\n\tconst columns: TenorImage[][] = new Array(columnsCount).fill(null).map(() => []);\n\tconst columnsHeight = new Array(columnsCount).fill(0);\n\n\tfor(const img of result) {\n\t\tconst aspectRatio = img.preview.height / img.preview.width;\n\t\t// We want to put image of this loop in shortest column (smallest width)\n\t\tconst shortestColumnIndex = columnsHeight.indexOf(Math.min(...columnsHeight));\n\t\tcolumns[shortestColumnIndex].push(img);\n\t\t// Here we actually add aspect ratio rather than height since design is responsive\n\t\tcolumnsHeight[shortestColumnIndex] += aspectRatio;\n\t}\n\treturn columns;\n}\n\nexport default GifList;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-gif-list{display:flex;flex:1;flex-direction:row;gap:var(--gpr-category-list-padding);overflow-y:scroll;padding:var(--gpr-body-padding)}.GifPickerReact .gpr-gif-list-column{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;grid-template-columns:1fr;grid-template-rows:auto 1fr}.GifPickerReact .gpr-gif-list-no-result{align-items:center;display:flex;flex:1;justify-content:center;padding-bottom:30%}\\n\")","import React from 'react';\nimport ResultPlaceholder from '../placeholders/ResultPlaceholder';\n\nconst PLACEHOLDER_HEIGHTS = [\n\t[120, 100, 130, 175, 154, 110],\n\t[150, 115, 135, 154, 145, 170],\n\t[140, 125, 120, 150, 100, 125],\n\t[130, 145, 175, 120, 135, 100],\n];\n\nexport interface GifListPlaceholderProps {\n\tcolumnsCount: number;\n\tshowDelay?: number;\n}\n\nfunction GifListPlaceholder({ columnsCount, showDelay = 70 }: GifListPlaceholderProps) {\n\treturn (\n\t\t<div className=\"gpr-gif-list\">\n\t\t\t{[...Array(columnsCount)].map((_, i) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"gpr-gif-list-column\"\n\t\t\t\t\tkey={i}\n\t\t\t\t>\n\t\t\t\t\t{PLACEHOLDER_HEIGHTS[i % PLACEHOLDER_HEIGHTS.length].map((height, j) => (\n\t\t\t\t\t\t<ResultPlaceholder\n\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\tshowDelay={(j + 1) * showDelay * columnsCount + showDelay * i}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default GifListPlaceholder;\n","import React, { useEffect, useState } from 'react';\nimport Placeholder from './Placeholder';\nimport './ResultPlaceholder.css';\n\nexport interface ResultPlaceholderProps {\n\theight: number | string;\n\tshowDelay?: number;\n}\n\nfunction ResultPlaceholder({ height, showDelay }: ResultPlaceholderProps) {\n\tconst [show, setShow] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (show) return;\n\t\tfunction showElement() {\n\t\t\tsetShow(true);\n\t\t}\n\t\tconst timeout = setTimeout(showElement, showDelay);\n\t\treturn () => clearTimeout(timeout);\n\t}, []);\n\n\treturn (\n\t\t<Placeholder\n\t\t\tclassName=\"gpr-result-placeholder\"\n\t\t\theight={height}\n\t\t\twidth=\"100%\"\n\t\t\tstyle={{ opacity: show ? 1 : 0 }}\n\t\t/>\n\t);\n}\n\nexport default ResultPlaceholder;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-result-placeholder{border-radius:var(--gpr-category-border-radius)}\\n\")","import React, { useContext } from 'react';\nimport SettingsContext from '../../context/SettingsContext';\nimport TenorContext from '../../context/TenorContext';\nimport { TenorImage } from '../../types/exposedTypes';\nimport './ResultImage.css';\n\nexport interface ResultImageProps {\n\timage: TenorImage;\n\tsearchTerm?: string;\n}\n\nfunction ResultImage({ image, searchTerm }: ResultImageProps): JSX.Element {\n\tconst settings = useContext(SettingsContext);\n\tconst tenor = useContext(TenorContext);\n\n\tfunction onClick(): void {\n\t\tconst func = settings.onGifClick;\n\t\tif (func) func(image);\n\t\ttenor.registerShare(image, searchTerm);\n\t}\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName=\"gpr-btn gpr-result-image\"\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={image.preview.url}\n\t\t\t\theight={image.preview.height}\n\t\t\t\twidth={image.preview.width}\n\t\t\t\tloading=\"lazy\"\n\t\t\t/>\n\t\t</button>\n\t);\n}\n\nexport default ResultImage;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-result-image{border-radius:var(--gpr-category-border-radius);cursor:pointer;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-result-image img{background-color:var(--gpr-placeholder-color);border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-result-image:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}\\n\")","import React, { useContext, useEffect, useState, useCallback } from 'react';\nimport TenorContext from '../../context/TenorContext';\nimport GifList from './GifList';\nimport { TenorImage } from '../../types/exposedTypes';\n\nexport interface TrendingResultProps {\n\tcolumnsCount: number;\n}\n\nfunction TrendingResult({ columnsCount }: TrendingResultProps) {\n\tconst [trendingResult, setSearchResult] = useState<TenorImage[]>([]); // Changed to array for infinite loading\n\tconst [isLoading, setLoading] = useState(true);\n\tconst [nextPos, setNextPos] = useState<string | null>(null); // State for next position\n\tconst tenor = useContext(TenorContext);\n\n\tconst fetchTrendingGifs = useCallback(async (pos?: string) => {\n\t\tconst result = await tenor.trending(20, pos); // Pass position to fetch more\n\t\tsetSearchResult(prevResults => [...prevResults, ...result.images]); // Append new results\n\t\tsetNextPos(result.next);\n\t\tsetLoading(false);\n\t}, [tenor]);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tsetSearchResult([]);\n\t\tsetNextPos(null);\n\t\tfetchTrendingGifs(); // Initial fetch\n\t}, [fetchTrendingGifs]);\n\n\tconst handleLoadMore = useCallback(() => {\n\t\tif (nextPos) {\n\t\t\tfetchTrendingGifs(nextPos); // Fetch more if nextPos is available\n\t\t}\n\t}, [nextPos, fetchTrendingGifs]);\n\n\treturn (\n\t\t<GifList\n\t\t\tcolumnsCount={columnsCount}\n\t\t\tisLoading={isLoading}\n\t\t\timages={trendingResult}\n\t\t\tonLoadMore={handleLoadMore} // Add onLoadMore prop\n\t\t\thasMore={!!nextPos} // Add hasMore prop\n\t\t/>\n\t);\n}\n\nexport default TrendingResult;\n","import React, { useContext } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport './Header.css';\nimport Search from './Search';\nimport Title from './Title';\n\nfunction Header(): JSX.Element {\n\tconst [pickerContext] = useContext(PickerContext);\n\n\treturn (\n\t\t<div className=\"gpr-header\">\n\t\t\t{pickerContext.showTrending ? <Title>Trending GIFs</Title> : <Search />}\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-header{border-bottom:1px solid var(--gpr-picker-border-color);min-height:0;padding:var(--gpr-header-padding)}\\n\")","import React, { useContext } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport SettingsContext from '../../context/SettingsContext';\nimport ClearButton from './ClearButton';\nimport './Search.css';\n\nfunction Search(): JSX.Element {\n\tconst [pickerContext, setPickerContext] = useContext(PickerContext);\n\tconst settings = useContext(SettingsContext);\n\n\tfunction onChange(event: React.ChangeEvent<HTMLInputElement>): void {\n\t\tconst contextCopy = Object.assign({}, pickerContext);\n\t\tcontextCopy.searchTerm = event.target.value;\n\t\tsetPickerContext(contextCopy);\n\t}\n\n\tfunction onClear(): void {\n\t\tconst contextCopy = Object.assign({}, pickerContext);\n\t\tcontextCopy.searchTerm = '';\n\t\tsetPickerContext(contextCopy);\n\t}\n\n\treturn (\n\t\t<div className=\"gpr-search-container\">\n\t\t\t<input\n\t\t\t\tautoFocus={settings.autoFocusSearch}\n\t\t\t\taria-label={'Search Tenor'}\n\t\t\t\tplaceholder={'Search Tenor'}\n\t\t\t\tclassName=\"gpr-search\"\n\t\t\t\tdata-testid=\"gpr-search-input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tmaxLength={500}\n\t\t\t\tvalue={pickerContext.searchTerm}\n\t\t\t\tonChange={onChange}\n\t\t\t/>\n\t\t\t<div className=\"gpr-icn-search\" />\n\t\t\t{pickerContext.searchTerm.length > 0 && <ClearButton onClick={onClear} />}\n\t\t</div>\n\t);\n}\n\nexport default Search;\n","import React from 'react';\nimport Button from '../Button';\nimport './ClearButton.css';\n\nexport interface ClearButtonProps {\n\tonClick: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nfunction ClearButton({ onClick }: ClearButtonProps) {\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"gpr-btn-clear-search\"\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<div className=\"gpr-icn-clear-search\" />\n\t\t</Button>\n\t);\n}\n\nexport default ClearButton;\n","import * as React from 'react';\n\ninterface PropsProps\n\textends React.DetailedHTMLProps<\n\t\tReact.ButtonHTMLAttributes<HTMLButtonElement>,\n\t\tHTMLButtonElement\n\t> {}\n\nfunction Button(props: PropsProps): JSX.Element {\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\t{...props}\n\t\t\tclassName={'gpr-btn ' + props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t);\n}\n\nexport default Button;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact button.gpr-btn-clear-search{align-items:center;border-radius:50%;display:flex;height:20px;justify-content:end;padding:0;position:absolute;right:var(--gpr-search-bar-inner-padding);top:50%;transform:translateY(-50%);width:20px}.GifPickerReact .gpr-icn-clear-search{background-color:transparent;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='80'%3E%3Cpath fill='%23868686' d='M6.98 13.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 8c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.4a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.2-.21.54 0 .74z'/%3E%3Cpath fill='%23868686' d='M10.15 18.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%233371B7' d='M6.98 33.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 28c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%233371B7' d='M10.15 38.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%23C0C0BF' d='M6.98 53.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 48c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%23C0C0BF' d='M10.15 58.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%236AA9DD' d='M6.98 73.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 68c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%236AA9DD' d='M10.15 78.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3C/svg%3E\\\");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-search-container button.gpr-btn-clear-search:focus .gpr-icn-clear-search,.GifPickerReact button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-20px}.GifPickerReact button.gpr-btn-clear-search:focus,.GifPickerReact button.gpr-btn-clear-search:hover{background:var(--gpr-hover-bg-color)}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search .gpr-icn-clear-search{background-position-y:-40px}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-60px}\\n\")","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-search-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-search-container input.gpr-search{background-color:var(--gpr-search-input-bg-color);border:1px solid var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);height:var(--gpr-search-input-height);outline:none;padding:var(--gpr-search-input-padding);transition:all .2s ease-in-out;width:100%}.GifPickerReact .gpr-search-container .gpr-icn-search{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='40'%3E%3Cpath fill='%23868686' fill-rule='evenodd' d='M12 8.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 6.73 12 8.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3Cpath fill='%23C0C0BF' fill-rule='evenodd' d='M12 28.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 26.73 12 28.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3C/svg%3E\\\");background-position:0 0;background-repeat:no-repeat;background-size:20px;content:\\\"\\\";height:20px;left:var(--gpr-search-bar-inner-padding);position:absolute;top:50%;transform:translateY(-50%);width:20px}.GifPickerReact.gpr-dark-theme .gpr-search-container .gpr-icn-search{background-position-y:-20px}.GifPickerReact .gpr-search-container input.gpr-search::-moz-placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search::placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search:focus{background-color:var(--gpr-search-input-bg-color-active);border:1px solid var(--gpr-search-border-color-active)}\\n\")","import React, { useContext } from 'react';\nimport PickerContext from '../../context/PickerContext';\nimport Button from '../Button';\nimport './Title.css';\n\nexport interface TitleProps {\n\tchildren: React.ReactNode;\n}\n\nfunction Title({ children }: TitleProps): JSX.Element {\n\tconst [pickerContext, setPickerContext] = useContext(PickerContext);\n\n\tfunction onClear(): void {\n\t\tconst contextCopy = Object.assign({}, pickerContext);\n\t\tcontextCopy.showTrending = false;\n\t\tsetPickerContext(contextCopy);\n\t}\n\n\treturn (\n\t\t<div className=\"gpr-title-container\">\n\t\t\t<div className=\"gpr-title\">{children}</div>\n\n\t\t\t<Button\n\t\t\t\tclassName={'gpr-btn-clear-search'}\n\t\t\t\tonClick={onClear}\n\t\t\t>\n\t\t\t\t<div className=\"gpr-icn-clear-search\" />\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n\nexport default Title;\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact .gpr-title-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-title-container .gpr-title{align-items:center;background-color:var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);display:flex;height:var(--gpr-search-input-height);padding:var(--gpr-horizontal-padding);width:100%}\\n\")","import React, { useContext } from 'react';\nimport SettingsContext from '../context/SettingsContext';\nimport { Theme } from '../types/exposedTypes';\n\nexport interface PickerMainProps {\n\tchildren: React.ReactNode;\n}\n\nfunction PickerMain({ children }: PickerMainProps): JSX.Element {\n\tconst settings = useContext(SettingsContext);\n\n\tconst style: React.CSSProperties = {\n\t\theight: settings.height,\n\t\twidth: settings.width,\n\t};\n\n\treturn (\n\t\t<aside\n\t\t\tclassName={`GifPickerReact gpr-main ${settings.theme === Theme.DARK ? ' gpr-dark-theme' : ''}`}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{children}\n\t\t</aside>\n\t);\n}\n\nexport default PickerMain;\n","export enum ContentFilter {\n\tHIGH = 'high',\n\tMEDIUM = 'medium',\n\tLOW = 'low',\n\tOFF = 'off',\n}\nexport enum Theme {\n\tLIGHT = 'light',\n\tDARK = 'dark',\n\tAUTO = 'auto',\n}\n\nexport interface TenorImage {\n\tid: string;\n\ttenorUrl: string;\n\tshortTenorUrl: string;\n\tdescription: string;\n\tcreatedAt: Date;\n\ttags: string[];\n\turl: string;\n\theight: number;\n\twidth: number;\n\tpreview: TenorImagePreview;\n}\n\nexport interface TenorImagePreview {\n\turl: string;\n\theight: number;\n\twidth: number;\n}\n","import styleInject from '#style-inject';styleInject(\".GifPickerReact{--gpr-highlight-color:#007aeb;--gpr-hover-bg-color:#f1f8ff;--gpr-focus-bg-color:#e0f0ff;--gpr-text-color:#858585;--gpr-search-input-bg-color:#f6f6f6;--gpr-picker-border-color:#e7e7e7;--gpr-bg-color:#fff;--gpr-horizontal-padding:10px;--gpr-picker-border-radius:8px;--gpr-header-padding:15px var(--gpr-horizontal-padding);--gpr-search-input-bg-color-active:var(--gpr-search-input-bg-color);--gpr-search-input-padding:0 32px;--gpr-search-input-border-radius:8px;--gpr-search-input-height:40px;--gpr-search-input-text-color:var(--gpr-text-color);--gpr-search-input-placeholder-color:var(--gpr-text-color);--gpr-search-bar-inner-padding:var(--gpr-horizontal-padding);--gpr-search-border-color-active:var(--gpr-highlight-color);--gpr-body-padding:var(--gpr-header-padding) 0px;--gpr-category-list-padding:var(--gpr-horizontal-padding);--gpr-category-border-radius:4px;--gpr-category-background-opacity:40%;--gpr-category-font-color:var(--gpr-picker-border-color);--gpr-category-font-size:16px;--gpr-category-font-weight:600;--gpr-category-shadow-opacity:60%;--gpr-category-shadow-opacity-hover:65%;--gpr-category-border-color-hover:var(--gpr-highlight-color);--gpr-placeholder-color:#d3d3d3;color-scheme:light}.GifPickerReact.gpr-dark-theme{--gpr-dark:#000;--gpr-hover-bg-color:#363636f6;--gpr-focus-bg-color:#474747;--gpr-text-color:silver;--gpr-search-input-bg-color:#3b3b3b;--gpr-picker-border-color:#2b2b2b;--gpr-bg-color:#222;--gpr-category-font-color:#e7e7e7;--gpr-search-input-bg-color-active:var(--gpr-dark);--gpr-placeholder-color:var(--gpr-search-input-bg-color);color-scheme:dark}.GifPickerReact *{box-sizing:border-box}.GifPickerReact.gpr-main{background-color:var(--gpr-bg-color);border-color:var(--gpr-picker-border-color);border-radius:var(--gpr-picker-border-radius);border-style:solid;border-width:1px;color:var(--gpr-text-color);display:flex;flex-direction:column;position:relative}.GifPickerReact button.gpr-btn{background:none;border:0;cursor:pointer;outline:none;padding:0}\\n\")","import { Dispatch, SetStateAction, useState } from 'react';\n\nexport interface PickerContextType {\n\tsearchTerm: string;\n\tshowTrending: boolean;\n}\n\nfunction usePickerContext(\n\tinitialSearchTerm: string,\n): [PickerContextType, Dispatch<SetStateAction<PickerContextType>>] {\n\tconst DEFAULT_SETTINGS: PickerContextType = {\n\t\tsearchTerm: initialSearchTerm,\n\t\tshowTrending: false,\n\t};\n\n\tconst [pickerContext, setPickerContext] = useState<PickerContextType>(DEFAULT_SETTINGS);\n\n\treturn [pickerContext, setPickerContext];\n}\n\nexport default usePickerContext;\n","import { GifPickerReactProps } from '../GifPickerReact';\nimport { ContentFilter, TenorImage, Theme } from '../types/exposedTypes';\n\n/**\n * This is a parsed version of props with filled defaults\n */\nexport type GifPickerSettings = {\n\ttenorApiKey: string;\n\tonGifClick?: (gif: TenorImage) => void;\n\tautoFocusSearch: boolean;\n\tclientKey: string;\n\tcountry: string;\n\tlocale: string;\n\tcontentFilter: ContentFilter;\n\theight: string;\n\twidth: string;\n\tcategoryHeight: string;\n\ttheme: Theme;\n\tinitialSearchTerm: string;\n};\n\nfunction useSettings(props: GifPickerReactProps): GifPickerSettings {\n\tif (!props.tenorApiKey) {\n\t\tthrow new Error('tenorApiKey is a required prop that is missing');\n\t}\n\treturn {\n\t\ttenorApiKey: props.tenorApiKey,\n\t\tonGifClick: props.onGifClick ?? undefined,\n\t\tautoFocusSearch: props.autoFocusSearch ?? true,\n\t\tclientKey: props.clientKey ?? 'gif-picker-react',\n\t\tcountry: props.country ?? 'US',\n\t\tlocale: props.locale ?? 'en_US',\n\t\tcontentFilter: props.contentFilter ?? ContentFilter.OFF,\n\t\theight: praseDimension(props.height ?? 450),\n\t\twidth: praseDimension(props.width ?? 350),\n\t\tcategoryHeight: praseDimension(props.categoryHeight ?? 100),\n\t\ttheme: getTheme(props.theme),\n\t\tinitialSearchTerm: props.initialSearchTerm ?? '',\n\t};\n}\n\n/**\n * Processed raw dimension as number or string to css property. You can provide\n * a number that will be treated as pixel size, or your any accepted css height as string.\n * @param dimension raw dimension\n * @returns css size string\n */\nfunction praseDimension(dimension: string | number): string {\n\tif (typeof dimension == 'number') {\n\t\treturn `${dimension}px`;\n\t} else if (typeof dimension == 'string') {\n\t\treturn dimension;\n\t} else {\n\t\tthrow new TypeError('Invalid dimension provided');\n\t}\n}\n\n/**\n * Check for a theme passed in. If not passed default to Light.\n * Otherwise check for auto or return what was passed in.\n * @param theme theme to check\n * @returns theme to use\n */\nfunction getTheme(theme?: Theme): Theme {\n\tif (theme === Theme.AUTO) {\n\t\treturn isSystemDarkTheme() ? Theme.DARK : Theme.LIGHT;\n\t} else {\n\t\treturn theme ?? Theme.LIGHT;\n\t}\n}\n\n/**\n * Check for system settings for darkmode\n * @returns true if system is using dark theme\n */\nfunction isSystemDarkTheme(): boolean {\n\tif (typeof window === 'undefined') {\n\t\treturn false;\n\t}\n\n\treturn !!window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n\nexport default useSettings;\n","import { ContentFilter, TenorImage } from '../types/exposedTypes';\n\nconst MEDIA_FILTER = 'mediumgif,tinygif';\nconst BASE_URL = 'https://tenor.googleapis.com/v2/';\n\nexport interface TenorCategory {\n\timage: string;\n\tname: string;\n}\n\nexport interface TenorResult {\n\tnext: string;\n\timages: TenorImage[];\n}\n\nclass TenorManager {\n\tprivate apiKey: string;\n\tprivate clientKey: string;\n\tprivate country: string;\n\tprivate locale: string;\n\tprivate contentFilter: ContentFilter;\n\n\tconstructor(\n\t\tapiKey: string,\n\t\tclientKey: string,\n\t\tcountry: string,\n\t\tlocale: string,\n\t\tcontentFilter: ContentFilter,\n\t) {\n\t\tthis.apiKey = apiKey;\n\t\tthis.clientKey = clientKey;\n\t\tthis.country = country;\n\t\tthis.locale = locale;\n\t\tthis.contentFilter = contentFilter;\n\t}\n\n\tprivate async callApi(endpoint: string, params?: { [key: string]: any }): Promise<Response> {\n\t\tconst urlParams = new URLSearchParams({\n\t\t\tkey: this.apiKey,\n\t\t\tclient_key: this.clientKey,\n\t\t\tcontentfilter: this.contentFilter,\n\t\t\tmedia_filter: MEDIA_FILTER,\n\t\t\tlocale: this.locale,\n\t\t\tcountry: this.country,\n\t\t\t...params,\n\t\t});\n\t\tconst url = BASE_URL + endpoint + '?' + urlParams;\n\t\treturn fetch(url)\n\t\t\t.then((res) => {\n\t\t\t\tif (!res.ok) {\n\t\t\t\t\tconsole.error(res);\n\t\t\t\t\tconsole.error('[gif-picker-react] Failed to fetch data from Tenor API');\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t\tconsole.error('[gif-picker-react] Failed to fetch data from Tenor API');\n\t\t\t});\n\t}\n\n\tprivate praseResult(img: any): TenorImage {\n\t\tconst preview = img['media_formats']['tinygif'];\n\t\tconst gif = img['media_formats']['mediumgif'];\n\n\t\treturn {\n\t\t\tid: img.id,\n\t\t\ttenorUrl: img['itemurl'],\n\t\t\tshortTenorUrl: img.url,\n\t\t\tdescription: img['content_description'],\n\t\t\tcreatedAt: new Date(img.created * 1000),\n\t\t\ttags: img.tags,\n\t\t\turl: gif.url,\n\t\t\twidth: gif.dims[0],\n\t\t\theight: gif.dims[1],\n\t\t\tpreview: {\n\t\t\t\turl: preview.url,\n\t\t\t\twidth: preview.dims[0],\n\t\t\t\theight: preview.dims[1],\n\t\t\t},\n\t\t};\n\t}\n\n\tpublic async categories(): Promise<TenorCategory[]> {\n\t\treturn this.callApi('categories', {\n\t\t\ttype: 'featured',\n\t\t}).then((data: any) => {\n\t\t\tconst tags = data.tags;\n\t\t\treturn tags.map((tag: any) => ({\n\t\t\t\tname: tag['searchterm'],\n\t\t\t\timage: tag.image,\n\t\t\t}));\n\t\t});\n\t}\n\n\tpublic async search(term: string, limit = 50, pos?: string): Promise<TenorResult> {\n\t\tconst params: any = {\n\t\t\tq: term,\n\t\t\t'ar_range': 'all',\n\t\t\tlimit\n\t\t};\n\t\tif (pos) {\n\t\t\tparams.pos = pos;\n\t\t}\n\t\treturn this.callApi('search', params)\n\t\t\t.then((data: any) => {\n\t\t\t\tconst results = data.results;\n\t\t\t\tconst images = results.map(this.praseResult);\n\t\t\t\treturn {\n\t\t\t\t\tnext: data.next,\n\t\t\t\t\timages: images\n\t\t\t\t};\n\t\t\t});\n\t}\n\n\tpublic async trending(limit = 50, pos?: string): Promise<TenorResult> {\n\t\tconst params: any = {\n\t\t\tar_range: 'all',\n\t\t\tlimit,\n\t\t};\n\t\tif (pos) {\n\t\t\tparams.pos = pos;\n\t\t}\n\t\treturn this.callApi('featured', params).then((data: any) => {\n\t\t\tconst results = data.results;\n\t\t\tconst images = results.map(this.praseResult);\n\t\t\treturn {\n\t\t\t\tnext: data.next,\n\t\t\t\timages: images,\n\t\t\t};\n\t\t});\n\t}\n\n\tpublic async registerShare(image: TenorImage, searchTerm?: string): Promise<void> {\n\t\tconst params: any = { id: image.id };\n\t\tif (searchTerm) params['q'] = searchTerm;\n\t\tawait this.callApi('registershare', params);\n\t\treturn;\n\t}\n}\n\nexport default TenorManager;\n"]}