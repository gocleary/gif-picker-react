'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var h = require('react');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n.default = e;
	return Object.freeze(n);
}

var h__namespace = /*#__PURE__*/_interopNamespace(h);

var b=class extends h__namespace.Component{constructor(r){super(r),this.state={hasError:!1};}static getDerivedStateFromError(){return {hasError:!0}}componentDidCatch(r,o){console.error("GIF Picker React failed to render:",r,o);}render(){return this.state.hasError?null:this.props.children}};var be=h__namespace.default.createContext(null),g=be;var Ce=h__namespace.createContext(null),f=Ce;function a(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",r==="top"&&o.firstChild?o.insertBefore(t,o.firstChild):o.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));}a(`.GifPickerReact .gpr-body{display:flex;flex:1;min-height:0}
`);var ke=h__namespace.createContext(null),m=ke;a(`.GifPickerReact .gpr-category-placeholder{border-radius:var(--gpr-category-border-radius);position:relative}
`);a(`.GifPickerReact .gpr-placeholder{background-color:var(--gpr-placeholder-color);transition:opacity .2s ease-in-out}
`);function Te(e){return h__namespace.default.createElement("div",{...e,className:`gpr-placeholder ${e.className||""}`,style:{width:e.width,height:e.height,...e.style}})}var C=Te;function Se(){let e=h.useContext(m);return h__namespace.default.createElement(C,{className:"gpr-category-placeholder",height:e.categoryHeight,width:"100%"})}var O=Se;a(`.GifPickerReact .gpr-category-list{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;overflow-y:scroll;padding:var(--gpr-body-padding)}
`);a(`.GifPickerReact .gpr-category{border-radius:var(--gpr-category-border-radius);cursor:pointer;position:relative;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-category img{background-color:#d3d3d3;border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-category-overlay{align-items:center;background-color:rgba(0,0,0,var(--gpr-category-background-opacity));border-radius:var(--gpr-category-border-radius);display:flex;height:100%;justify-content:center;left:0;overflow:hidden;position:absolute;top:0;transition:background-color .15s ease-in-out;width:100%}.GifPickerReact .gpr-category-overlay .gpr-category-name{color:var(--gpr-category-font-color);font-size:var(--gpr-category-font-size);font-weight:var(--gpr-category-font-weight);text-shadow:0 1px 1px rgba(0,0,0,var(--gpr-category-shadow-opacity))}.GifPickerReact .gpr-category:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}.GifPickerReact .gpr-category:hover .gpr-category-overlay{background-color:rgba(0,0,0,var(--gpr-category-shadow-opacity-hover))}
`);function Re({image:e,text:r,onClick:o}){let t=h.useContext(m);return h__namespace.default.createElement("button",{type:"button",className:"gpr-btn gpr-category",style:{height:t.categoryHeight},"data-testid":"gpr-category",onClick:o},h__namespace.default.createElement("img",{src:e,loading:"lazy"}),h__namespace.default.createElement("div",{className:"gpr-category-overlay"},h__namespace.default.createElement("div",{className:"gpr-category-name"},r)))}var P=Re;function Me({image:e,name:r}){let[o,t]=h.useContext(g);function n(){let i=Object.assign({},o);i.searchTerm=r,t(i);}return h__namespace.default.createElement(P,{image:e,text:r,onClick:n})}var X=Me;a(`.GifPickerReact .gpr-icn-trending{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48'%3E%3Cpath fill='%23fff' d='M6.3 37 4 34.7l15-15 8 8.05L41.9 11l2.1 2.05-17 19.2-8-7.95Z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-category .gpr-text-trending-category{align-items:center;display:flex;gap:4px}
`);function Ae({image:e}){let[r,o]=h.useContext(g);function t(){let n=Object.assign({},r);n.showTrending=!0,o(n);}return h__namespace.default.createElement(P,{image:e,onClick:t,text:h__namespace.default.createElement("div",{className:"gpr-text-trending-category"},h__namespace.default.createElement("div",{className:"gpr-icn-trending"}),h__namespace.default.createElement("span",null,"Trending GIFs"))})}var J=Ae;function Fe({categories:e,trending:r,columnsCount:o}){var n;function t(){if(!e)return;let i=1,p=(e.length+i)%o;return p==0?e:e==null?void 0:e.slice(0,-p)}return h__namespace.default.createElement("div",{className:"gpr-category-list",style:{gridTemplateColumns:`repeat(${o}, 1fr)`}},e&&r?h__namespace.default.createElement(h__namespace.default.Fragment,null,h__namespace.default.createElement(J,{image:r.url}),(n=t())==null?void 0:n.map((i,c)=>h__namespace.default.createElement(X,{key:c,image:i.image,name:i.name}))):h__namespace.default.createElement(h__namespace.default.Fragment,null,[...Array(10*o)].map((i,c)=>h__namespace.default.createElement(O,{key:c}))))}var U=Fe;a(`.GifPickerReact .gpr-gif-list{display:flex;flex:1;flex-direction:row;gap:var(--gpr-category-list-padding);overflow-y:scroll;padding:var(--gpr-body-padding)}.GifPickerReact .gpr-gif-list-column{grid-gap:var(--gpr-category-list-padding);display:grid;flex:1;grid-auto-rows:min-content;grid-template-columns:1fr;grid-template-rows:auto 1fr}.GifPickerReact .gpr-gif-list-no-result{align-items:center;display:flex;flex:1;justify-content:center;padding-bottom:30%}
`);a(`.GifPickerReact .gpr-result-placeholder{border-radius:var(--gpr-category-border-radius)}
`);function De({height:e,showDelay:r}){let[o,t]=h.useState(!1);return h.useEffect(()=>{if(o)return;function n(){t(!0);}let i=setTimeout(n,r);return ()=>clearTimeout(i)},[]),h__namespace.default.createElement(C,{className:"gpr-result-placeholder",height:e,width:"100%",style:{opacity:o?1:0}})}var $=De;var q=[[120,100,130,175,154,110],[150,115,135,154,145,170],[140,125,120,150,100,125],[130,145,175,120,135,100]];function je({columnsCount:e,showDelay:r=70}){return h__namespace.default.createElement("div",{className:"gpr-gif-list"},[...Array(e)].map((o,t)=>h__namespace.default.createElement("div",{className:"gpr-gif-list-column",key:t},q[t%q.length].map((n,i)=>h__namespace.default.createElement($,{key:i,height:n,showDelay:(i+1)*r*e+r*t})))))}var W=je;a(`.GifPickerReact .gpr-result-image{border-radius:var(--gpr-category-border-radius);cursor:pointer;transition:box-shadow .15s ease-in-out}.GifPickerReact .gpr-result-image img{background-color:var(--gpr-placeholder-color);border-radius:var(--gpr-category-border-radius);height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.GifPickerReact .gpr-result-image:hover{box-shadow:0 0 0 2px var(--gpr-category-border-color-hover)}
`);function Ke({image:e,searchTerm:r}){let o=h.useContext(m),t=h.useContext(f);function n(){let i=o.onGifClick;i&&i(e),t.registerShare(e,r);}return h__namespace.default.createElement("button",{type:"button",className:"gpr-btn gpr-result-image",onClick:n},h__namespace.default.createElement("img",{src:e.preview.url,height:e.preview.height,width:e.preview.width,loading:"lazy"}))}var Q=Ke;function Je({isLoading:e,images:r,searchTerm:o,columnsCount:t,onLoadMore:n,hasMore:i}){let c=h.useMemo(()=>Ue(r,t),[r,t]),p=r.length<=0,l=h.useRef(null),d=h.useCallback(u=>{e||(l.current&&l.current.disconnect(),l.current=new IntersectionObserver(s=>{s[0].isIntersecting&&i&&n();}),u&&l.current.observe(u));},[e,i,n]);return p?e?h__namespace.default.createElement(W,{columnsCount:t}):h__namespace.default.createElement("div",{className:"gpr-gif-list-no-result"},h__namespace.default.createElement("span",null,"No GIFs found!")):h__namespace.default.createElement("div",{className:"gpr-gif-list"},c.map((u,s)=>h__namespace.default.createElement("div",{className:"gpr-gif-list-column",key:s},u.map((y,L)=>h__namespace.default.createElement("div",{key:y.id,ref:L===u.length-1&&s===c.length-1?d:null},h__namespace.default.createElement(Q,{image:y,searchTerm:o}))))))}function Ue(e,r=2){if(!e)return [];let o=new Array(r).fill(null).map(()=>[]),t=new Array(r).fill(0);for(let n of e){let i=n.preview.height/n.preview.width,c=t.indexOf(Math.min(...t));o[c].push(n),t[c]+=i;}return o}var w=Je;function Ye({searchTerm:e,columnsCount:r}){let[o,t]=h.useState([]),[n,i]=h.useState(!0),[c,p]=h.useState(null),l=h.useContext(f),d=h.useCallback(async s=>{let y=await l.search(e,50,s);t(L=>[...L,...y.images]),p(y.next),i(!1);},[e,l]);h.useEffect(()=>{i(!0),t([]),p(null);let s=setTimeout(()=>d(),800);return ()=>clearTimeout(s)},[e,d]);let u=h.useCallback(()=>{c&&d(c);},[c,d]);return h__namespace.default.createElement(w,{isLoading:n,columnsCount:r,images:o,searchTerm:e,onLoadMore:u,hasMore:!!c})}var ee=Ye;function er({columnsCount:e}){let[r,o]=h.useState([]),[t,n]=h.useState(!0),[i,c]=h.useState(null),p=h.useContext(f),l=h.useCallback(async u=>{let s=await p.trending(20,u);o(y=>[...y,...s.images]),c(s.next),n(!1);},[p]);h.useEffect(()=>{n(!0),o([]),c(null),l();},[l]);let d=h.useCallback(()=>{i&&l(i);},[i,l]);return h__namespace.default.createElement(w,{columnsCount:e,isLoading:t,images:r,onLoadMore:d,hasMore:!!i})}var te=er;var tr=170;function or({width:e}){let[r,o]=h.useState(void 0),[t,n]=h.useState(void 0),[i]=h.useContext(g),[c,p]=h.useState(1),l=h.useContext(f),d=h.useRef(null);return h.useEffect(()=>{(async()=>{let u=await l.categories();o(u);let s=await l.trending(1);n(s.images[0]);})();},[]),h.useEffect(()=>{let u=d.current?d.current.offsetWidth:0,s=Math.floor(u/tr);s<1&&(s=1),p(s);},[d.current,e]),h__namespace.default.createElement("div",{className:"gpr-body",ref:d},(()=>i.showTrending?h__namespace.default.createElement(te,{columnsCount:c}):i.searchTerm?h__namespace.default.createElement(ee,{columnsCount:c,searchTerm:i.searchTerm}):h__namespace.default.createElement(U,{columnsCount:c,categories:r,trending:t}))())}var ne=or;a(`.GifPickerReact .gpr-header{border-bottom:1px solid var(--gpr-picker-border-color);min-height:0;padding:var(--gpr-header-padding)}
`);function ir(e){return h__namespace.createElement("button",{type:"button",...e,className:"gpr-btn "+e.className},e.children)}var S=ir;a(`.GifPickerReact button.gpr-btn-clear-search{align-items:center;border-radius:50%;display:flex;height:20px;justify-content:end;padding:0;position:absolute;right:var(--gpr-search-bar-inner-padding);top:50%;transform:translateY(-50%);width:20px}.GifPickerReact .gpr-icn-clear-search{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='80'%3E%3Cpath fill='%23868686' d='M6.98 13.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 8c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.4a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.2-.21.54 0 .74z'/%3E%3Cpath fill='%23868686' d='M10.15 18.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%233371B7' d='M6.98 33.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 28c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%233371B7' d='M10.15 38.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%23C0C0BF' d='M6.98 53.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 48c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%23C0C0BF' d='M10.15 58.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%236AA9DD' d='M6.98 73.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 68c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%236AA9DD' d='M10.15 78.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.GifPickerReact .gpr-search-container button.gpr-btn-clear-search:focus .gpr-icn-clear-search,.GifPickerReact button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-20px}.GifPickerReact button.gpr-btn-clear-search:focus,.GifPickerReact button.gpr-btn-clear-search:hover{background:var(--gpr-hover-bg-color)}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search .gpr-icn-clear-search{background-position-y:-40px}.GifPickerReact.gpr-dark-theme button.gpr-btn-clear-search:hover .gpr-icn-clear-search{background-position-y:-60px}
`);function nr({onClick:e}){return h__namespace.default.createElement(S,{className:"gpr-btn-clear-search",onClick:e},h__namespace.default.createElement("div",{className:"gpr-icn-clear-search"}))}var se=nr;a(`.GifPickerReact .gpr-search-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-search-container input.gpr-search{background-color:var(--gpr-search-input-bg-color);border:1px solid var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);height:var(--gpr-search-input-height);outline:none;padding:var(--gpr-search-input-padding);transition:all .2s ease-in-out;width:100%}.GifPickerReact .gpr-search-container .gpr-icn-search{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' width='20' height='40'%3E%3Cpath fill='%23868686' fill-rule='evenodd' d='M12 8.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 6.73 12 8.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3Cpath fill='%23C0C0BF' fill-rule='evenodd' d='M12 28.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 26.73 12 28.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z' clip-rule='evenodd'/%3E%3C/svg%3E");background-position:0 0;background-repeat:no-repeat;background-size:20px;content:"";height:20px;left:var(--gpr-search-bar-inner-padding);position:absolute;top:50%;transform:translateY(-50%);width:20px}.GifPickerReact.gpr-dark-theme .gpr-search-container .gpr-icn-search{background-position-y:-20px}.GifPickerReact .gpr-search-container input.gpr-search::-moz-placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search::placeholder{color:var(--gpr-search-input-placeholder-color)}.GifPickerReact .gpr-search-container input.gpr-search:focus{background-color:var(--gpr-search-input-bg-color-active);border:1px solid var(--gpr-search-border-color-active)}
`);function ar(){let[e,r]=h.useContext(g),o=h.useContext(m);function t(i){let c=Object.assign({},e);c.searchTerm=i.target.value,r(c);}function n(){let i=Object.assign({},e);i.searchTerm="",r(i);}return h__namespace.default.createElement("div",{className:"gpr-search-container"},h__namespace.default.createElement("input",{autoFocus:o.autoFocusSearch,"aria-label":"Search Tenor",placeholder:"Search Tenor",className:"gpr-search","data-testid":"gpr-search-input",type:"text",dir:"auto",maxLength:500,value:e.searchTerm,onChange:t}),h__namespace.default.createElement("div",{className:"gpr-icn-search"}),e.searchTerm.length>0&&h__namespace.default.createElement(se,{onClick:n}))}var pe=ar;a(`.GifPickerReact .gpr-title-container{display:block;flex:1;min-width:0;position:relative}.GifPickerReact .gpr-title-container .gpr-title{align-items:center;background-color:var(--gpr-search-input-bg-color);border-radius:var(--gpr-search-input-border-radius);color:var(--gpr-search-input-text-color);display:flex;height:var(--gpr-search-input-height);padding:var(--gpr-horizontal-padding);width:100%}
`);function sr({children:e}){let[r,o]=h.useContext(g);function t(){let n=Object.assign({},r);n.showTrending=!1,o(n);}return h__namespace.default.createElement("div",{className:"gpr-title-container"},h__namespace.default.createElement("div",{className:"gpr-title"},e),h__namespace.default.createElement(S,{className:"gpr-btn-clear-search",onClick:t},h__namespace.default.createElement("div",{className:"gpr-icn-clear-search"})))}var ge=sr;function pr(){let[e]=h.useContext(g);return h__namespace.default.createElement("div",{className:"gpr-header"},e.showTrending?h__namespace.default.createElement(ge,null,"Trending GIFs"):h__namespace.default.createElement(pe,null))}var de=pr;var B=(n=>(n.HIGH="high",n.MEDIUM="medium",n.LOW="low",n.OFF="off",n))(B||{}),I=(t=>(t.LIGHT="light",t.DARK="dark",t.AUTO="auto",t))(I||{});function ur({children:e}){let r=h.useContext(m),o={height:r.height,width:r.width};return h__namespace.default.createElement("aside",{className:`GifPickerReact gpr-main ${r.theme==="dark"?" gpr-dark-theme":""}`,style:o},e)}var ue=ur;a(`.GifPickerReact{--gpr-highlight-color:#007aeb;--gpr-hover-bg-color:#f1f8ff;--gpr-focus-bg-color:#e0f0ff;--gpr-text-color:#858585;--gpr-search-input-bg-color:#f6f6f6;--gpr-picker-border-color:#e7e7e7;--gpr-bg-color:#fff;--gpr-horizontal-padding:10px;--gpr-picker-border-radius:8px;--gpr-header-padding:15px var(--gpr-horizontal-padding);--gpr-search-input-bg-color-active:var(--gpr-search-input-bg-color);--gpr-search-input-padding:0 32px;--gpr-search-input-border-radius:8px;--gpr-search-input-height:40px;--gpr-search-input-text-color:var(--gpr-text-color);--gpr-search-input-placeholder-color:var(--gpr-text-color);--gpr-search-bar-inner-padding:var(--gpr-horizontal-padding);--gpr-search-border-color-active:var(--gpr-highlight-color);--gpr-body-padding:var(--gpr-header-padding) 0px;--gpr-category-list-padding:var(--gpr-horizontal-padding);--gpr-category-border-radius:4px;--gpr-category-background-opacity:40%;--gpr-category-font-color:var(--gpr-picker-border-color);--gpr-category-font-size:16px;--gpr-category-font-weight:600;--gpr-category-shadow-opacity:60%;--gpr-category-shadow-opacity-hover:65%;--gpr-category-border-color-hover:var(--gpr-highlight-color);--gpr-placeholder-color:#d3d3d3;color-scheme:light}.GifPickerReact.gpr-dark-theme{--gpr-dark:#000;--gpr-hover-bg-color:#363636f6;--gpr-focus-bg-color:#474747;--gpr-text-color:silver;--gpr-search-input-bg-color:#3b3b3b;--gpr-picker-border-color:#2b2b2b;--gpr-bg-color:#222;--gpr-category-font-color:#e7e7e7;--gpr-search-input-bg-color-active:var(--gpr-dark);--gpr-placeholder-color:var(--gpr-search-input-bg-color);color-scheme:dark}.GifPickerReact *{box-sizing:border-box}.GifPickerReact.gpr-main{background-color:var(--gpr-bg-color);border-color:var(--gpr-picker-border-color);border-radius:var(--gpr-picker-border-radius);border-style:solid;border-width:1px;color:var(--gpr-text-color);display:flex;flex-direction:column;position:relative}.GifPickerReact button.gpr-btn{background:none;border:0;cursor:pointer;outline:none;padding:0}
`);function fr(e){let r={searchTerm:e,showTrending:!1},[o,t]=h.useState(r);return [o,t]}var me=fr;function hr(e){if(!e.tenorApiKey)throw new Error("tenorApiKey is a required prop that is missing");return {tenorApiKey:e.tenorApiKey,onGifClick:e.onGifClick??void 0,autoFocusSearch:e.autoFocusSearch??!0,clientKey:e.clientKey??"gif-picker-react",country:e.country??"US",locale:e.locale??"en_US",contentFilter:e.contentFilter??"off",height:z(e.height??450),width:z(e.width??350),categoryHeight:z(e.categoryHeight??100),theme:yr(e.theme),initialSearchTerm:e.initialSearchTerm??""}}function z(e){if(typeof e=="number")return `${e}px`;if(typeof e=="string")return e;throw new TypeError("Invalid dimension provided")}function yr(e){return e==="auto"?xr()?"dark":"light":e??"light"}function xr(){return typeof window>"u"?!1:!!window.matchMedia("(prefers-color-scheme: dark)").matches}var fe=hr;var vr="mediumgif,tinygif",br="https://tenor.googleapis.com/v2/",D=class{apiKey;clientKey;country;locale;contentFilter;constructor(r,o,t,n,i){this.apiKey=r,this.clientKey=o,this.country=t,this.locale=n,this.contentFilter=i;}async callApi(r,o){let t=new URLSearchParams({key:this.apiKey,client_key:this.clientKey,contentfilter:this.contentFilter,media_filter:vr,locale:this.locale,country:this.country,...o}),n=br+r+"?"+t;return fetch(n).then(i=>(i.ok||(console.error(i),console.error("[gif-picker-react] Failed to fetch data from Tenor API")),i)).then(i=>i.json()).catch(i=>{console.error(i),console.error("[gif-picker-react] Failed to fetch data from Tenor API");})}praseResult(r){let o=r.media_formats.tinygif,t=r.media_formats.mediumgif;return {id:r.id,tenorUrl:r.itemurl,shortTenorUrl:r.url,description:r.content_description,createdAt:new Date(r.created*1e3),tags:r.tags,url:t.url,width:t.dims[0],height:t.dims[1],preview:{url:o.url,width:o.dims[0],height:o.dims[1]}}}async categories(){return this.callApi("categories",{type:"featured"}).then(r=>r.tags.map(t=>({name:t.searchterm,image:t.image})))}async search(r,o=50,t){let n={q:r,ar_range:"all",limit:o};return t&&(n.pos=t),this.callApi("search",n).then(i=>{let p=i.results.map(this.praseResult);return {next:i.next,images:p}})}async trending(r=50,o){let t={ar_range:"all",limit:r};return o&&(t.pos=o),this.callApi("featured",t).then(n=>{let c=n.results.map(this.praseResult);return {next:n.next,images:c}})}async registerShare(r,o){let t={id:r.id};o&&(t.q=o),await this.callApi("registershare",t);}},he=D;function kr(e){let r=fe(e),o=me(r.initialSearchTerm),t=h.useMemo(()=>new he(r.tenorApiKey,r.clientKey,r.country,r.locale,r.contentFilter),[]);return h__namespace.default.createElement(m.Provider,{value:r},h__namespace.default.createElement(g.Provider,{value:o},h__namespace.default.createElement(f.Provider,{value:t},h__namespace.default.createElement(ue,null,h__namespace.default.createElement(de,null),h__namespace.default.createElement(ne,{width:e.width})))))}var ye=kr;function Pr(e){return h__namespace.default.createElement(b,null,h__namespace.default.createElement(ye,{...e}))}var Yo=Pr;

exports.ContentFilter = B;
exports.Theme = I;
exports.default = Yo;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map